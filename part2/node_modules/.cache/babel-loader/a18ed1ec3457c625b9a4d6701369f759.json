{"ast":null,"code":"import _slicedToArray from\"/home/kumakura/Documents/web/part1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CountrieCandidate=function CountrieCandidate(_ref){var countrie=_ref.countrie,applyFilter=_ref.applyFilter;var handleClick=function handleClick(){applyFilter(countrie);};return/*#__PURE__*/_jsxs(\"div\",{children:[countrie,/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"show\",onClick:handleClick})]});};var Display=function Display(_ref2){var countries=_ref2.countries,applyFilter=_ref2.applyFilter;if(countries.length>10){return/*#__PURE__*/_jsx(\"div\",{children:\"Too many matches, specify another filter\"});}else if(countries.length>1){return/*#__PURE__*/_jsx(\"div\",{children:countries.map(function(countrie){return/*#__PURE__*/_jsx(CountrieCandidate,{countrie:countrie.name,applyFilter:applyFilter},countrie.name);})});}else if(countries.length===1){return/*#__PURE__*/_jsxs(\"div\",{children:[countries.map(function(countrie){return/*#__PURE__*/_jsx(CountrieCandidate,{countrie:countrie.name,applyFilter:applyFilter},countrie.name);}),/*#__PURE__*/_jsx(\"img\",{src:countries[0].flag,alt:\"flag picture\"})]});}else{return/*#__PURE__*/_jsx(\"div\",{children:\"oops nothing matched\"});}};var App=function App(){console.log(process);console.log(\"key\",process.env.REACT_APP_API_KEY);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newFilter=_useState2[0],setFilter=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),countries=_useState4[0],setCountries=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filteredCountries=_useState6[0],setFilteredCountries=_useState6[1];var applyFilter=function applyFilter(filter){setFilter(filter);setFilteredCountries(countries.filter(function(countrie){return countrie.name.toLowerCase().startsWith(filter.toLowerCase());}));};var onChange=function onChange(event){var filter=event.target.value;applyFilter(filter);};// useEffect(() => {\n//   axios\n//     .get('https://restcountries.eu/rest/v2/all')\n//     .then(response => {\n//       setCountries(response.data);\n//       setFilteredCountries(response.data);\n//     });\n// }, []);\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"find countries \",/*#__PURE__*/_jsx(\"input\",{value:newFilter,onChange:onChange})]}),/*#__PURE__*/_jsx(Display,{countries:filteredCountries,applyFilter:applyFilter})]});};export default App;","map":{"version":3,"sources":["/home/kumakura/Documents/web/part1/src/App.js"],"names":["React","useState","useEffect","axios","CountrieCandidate","countrie","applyFilter","handleClick","Display","countries","length","map","name","flag","App","console","log","process","env","REACT_APP_API_KEY","newFilter","setFilter","setCountries","filteredCountries","setFilteredCountries","filter","toLowerCase","startsWith","onChange","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nconst CountrieCandidate = ({countrie, applyFilter}) => {\n  const handleClick = () => {\n    applyFilter(countrie);\n  }\n  return (\n    <div>\n      {countrie}\n      <input type=\"button\" value=\"show\" onClick={handleClick} />\n    </div>\n  );\n}\n\nconst Display = ({countries, applyFilter}) => {\n  if (countries.length > 10) {\n    return (\n      <div>Too many matches, specify another filter</div>\n    );\n  }\n  else if (countries.length > 1) {\n    return (\n      <div>\n        {countries.map((countrie) => <CountrieCandidate countrie={countrie.name} applyFilter={applyFilter} key={countrie.name} />)}\n      </div>\n    );\n  }\n  else if (countries.length === 1) {\n    return (\n      <div>\n        {countries.map((countrie) => <CountrieCandidate countrie={countrie.name} applyFilter={applyFilter} key={countrie.name} />)}\n        <img src={countries[0].flag} alt=\"flag picture\" />\n      </div>\n    );\n  }\n  else {\n    return (\n      <div>oops nothing matched</div>\n    );\n  }\n}\n\nconst App = () => {\n  console.log(process);\n  console.log(\"key\", process.env.REACT_APP_API_KEY);\n  const [newFilter, setFilter] = useState(\"\");\n  const [countries, setCountries] = useState([]);\n  const [filteredCountries, setFilteredCountries] = useState([]);\n\n  const applyFilter = (filter) => {\n    setFilter(filter);\n    setFilteredCountries(countries.filter((countrie) => countrie.name.toLowerCase().startsWith(filter.toLowerCase())));\n  }\n\n  const onChange = (event) => {\n    const filter = event.target.value;\n    applyFilter(filter);\n  }\n\n  // useEffect(() => {\n  //   axios\n  //     .get('https://restcountries.eu/rest/v2/all')\n  //     .then(response => {\n  //       setCountries(response.data);\n  //       setFilteredCountries(response.data);\n  //     });\n  // }, []);\n\n\n  return (\n    <div>\n      <div>find countries <input value={newFilter} onChange={onChange} /></div>\n      <Display countries={filteredCountries} applyFilter={applyFilter} />\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}